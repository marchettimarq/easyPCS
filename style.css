
:root{
  --bg:#0B1020; --card:#121A2C; --text:#E6EAF5; --muted:#9AA7C7; --border:#20283A;
  --brand:#2F6BFF; --brand-2:#1E53E6; --ok:#22c55e; --warn:#fbbf24;
  --tap:48px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:16px -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}

.app-header{
  position:sticky;top:0;z-index:50;
  background:var(--card);border-bottom:1px solid var(--border);
  padding: max(env(safe-area-inset-top), 10px) 16px 10px;
  display:flex;align-items:center;justify-content:space-between;
}
.app-title{font-size:22px;line-height:1.2;font-weight:800;margin:0}
.app-title .brand{color:var(--brand)}
.reset{background:#23304b;border:1px solid var(--border);color:var(--text);border-radius:12px;padding:8px 14px}

.bottom-bar{
 position:fixed;left:0;right:0;bottom:0;z-index:40;background:var(--card);
 border-top:1px solid var(--border);
 padding:8px calc(16px + env(safe-area-inset-right)) calc(8px + env(safe-area-inset-bottom)) calc(16px + env(safe-area-inset-left));
 display:flex;gap:16px;justify-content:space-around;align-items:center;
}
.nav-btn{min-width:var(--tap);min-height:var(--tap);padding:6px 10px;background:none;border:0;color:var(--text);border-radius:12px;font-size:14px;display:flex;flex-direction:column;align-items:center;gap:4px}
.nav-btn.primary{background:var(--brand);color:white}
.nav-btn span{font-size:12px;opacity:.9}

main{padding:16px 16px calc(90px + env(safe-area-inset-bottom));}

.phase-carousel{display:flex;gap:14px;overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:10px}
.phase-card{scroll-snap-align:center;min-width:88%;background:var(--card);border:1px solid var(--border);border-radius:18px;padding:16px;box-shadow:0 6px 18px rgba(0,0,0,.25);}
.phase-card h3{margin:0 0 8px;font-size:18px}
.bar{height:6px;background:#23304b;border-radius:999px;overflow:hidden;margin:6px 0 2px}
.bar span{display:block;height:100%;background:linear-gradient(90deg,var(--brand),var(--brand-2));width:0%}
.meta{color:var(--muted);font-size:12px}

.section{margin:16px 0}
.section h4{margin:8px 0;color:var(--muted);font-weight:700;text-transform:uppercase;letter-spacing:.04em;font-size:12px}

.task-row{display:flex;gap:12px;align-items:flex-start;background:#0f1628;border:1px solid var(--border);border-radius:14px;padding:12px;margin-bottom:10px}
.check{width:28px;height:28px;min-width:28px;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;border:2px solid var(--brand);position:relative;margin-top:2px}
.check input{opacity:0;position:absolute;width:100%;height:100%;margin:0}
.check .dot{width:16px;height:16px;border-radius:50%;background:transparent}
.check input:checked + .dot{background:var(--brand)}
.task-main{flex:1;min-width:0}
.task-title{-webkit-line-clamp:2;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;word-break:break-word;font-weight:600}
.task-date{font-size:12px;color:var(--muted)}
.chev{background:#1a2440;border:1px solid var(--border);color:var(--text);border-radius:10px;padding:6px 8px}
.task-desc{display:none;color:var(--muted);padding:8px 12px 12px 52px}
.task-row.expanded + .task-desc{display:block}

.empty{color:var(--muted);text-align:center;padding:24px}
