
:root{
  --bg:#0B1020; --bg-soft:#0F1A33; --card:#121A2C; --text:#E6EAF5; --muted:#9AA7C7; --border:#20283A;
  --brand:#2F6BFF; --brand-2:#1E53E6; --ok:#22c55e; --warn:#fbbf24;
  --radius:16px; --pad:14px;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font:16px -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,system-ui;}
.topbar{position:sticky;top:0;z-index:10;background:#0c1428;padding:calc(env(safe-area-inset-top,0) + 10px) 16px 10px 16px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--border)}
.brand{margin:0;font-size:28px;letter-spacing:.2px}
.brand span{color:var(--brand)}
.pill{border:1px solid var(--border);background:transparent;color:var(--text);padding:10px 14px;border-radius:999px}
#view{padding:16px 16px calc(64px + env(safe-area-inset-bottom,0));min-height:calc(100dvh - 120px);background:var(--bg-soft)}
.bottom-nav{position:fixed;left:0;right:0;bottom:0;background:#0c1428;border-top:1px solid var(--border);display:flex;gap:10px;justify-content:space-around;align-items:center;padding:10px calc(16px + env(safe-area-inset-bottom,0)) calc(10px + env(safe-area-inset-bottom,0))}
.nav-btn{min-width:48px;min-height:48px;border:0;background:transparent;color:var(--text);font-size:15px;display:flex;flex-direction:column;align-items:center;gap:6px}
.nav-btn.primary{background:var(--brand);color:#fff;border-radius:16px;padding:8px 18px;font-size:28px;line-height:1}
.nav-btn span{font-size:12px;color:var(--muted)}
/* Phase list */
.phase-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:var(--pad);margin:12px 0;box-shadow:0 2px 12px rgba(0,0,0,.25)}
.phase-head{display:flex;align-items:center;justify-content:space-between}
.phase-title{font-weight:700;font-size:18px;margin:0}
.counts{color:var(--muted);font-size:13px}
.progress{height:6px;background:#091125;border-radius:999px;margin-top:10px;overflow:hidden}
.progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--brand),var(--brand-2))}
.phase-card .task-list{margin-top:10px}
.task-row{display:flex;gap:12px;align-items:flex-start;background:#0f182e;border:1px solid var(--border);border-radius:12px;padding:12px;margin-top:10px}
.chk{min-width:28px;height:28px;border-radius:50%;border:2px solid var(--muted);display:grid;place-items:center;font-size:18px;cursor:pointer}
.chk.done{border-color:var(--brand);color:#fff;background:var(--brand)}
.task-main{flex:1}
.task-title{margin:0 0 6px 0;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;word-break:break-word;font-size:16px}
.task-date{color:var(--muted);font-size:12px}
.task-desc{display:none;margin-top:8px;color:var(--text);opacity:.9}
.task-row.expanded + .task-desc{display:block}
.chev{opacity:.6}
.hidden{display:none}
/* collapsed by default */
.phase-card.collapsed .task-list{display:none}
