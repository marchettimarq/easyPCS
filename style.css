
:root{
  --bg:#0B1020; --card:#121A2C; --text:#E6EAF5; --muted:#9AA7C7; --border:#20283A;
  --brand:#2F6BFF; --brand-2:#1E53E6; --ok:#22c55e; --warn:#fbbf24;
  --tap:56px; --radius:18px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:16px -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;}

.app-header{
  position:sticky;top:0;z-index:50;
  background:var(--card);border-bottom:1px solid var(--border);
  padding: max(env(safe-area-inset-top), 14px) 16px 12px;
  display:flex;align-items:center;justify-content:space-between;
}
.app-title{font-size:28px;line-height:1.15;font-weight:800;margin:0}
.app-title .brand{color:var(--brand)}
.reset{background:#23304b;border:1px solid var(--border);color:var(--text);border-radius:12px;padding:10px 16px;font-weight:600}

.bottom-bar{
 position:fixed;left:0;right:0;bottom:0;z-index:40;background:var(--card);
 border-top:1px solid var(--border);
 padding:10px calc(16px + env(safe-area-inset-right)) calc(10px + env(safe-area-inset-bottom)) calc(16px + env(safe-area-inset-left));
 display:flex;gap:18px;justify-content:space-around;align-items:center;
}
.nav-btn{min-width:var(--tap);min-height:var(--tap);padding:8px 12px;background:none;border:0;color:var(--text);border-radius:12px;font-size:15px;display:flex;flex-direction:column;align-items:center;gap:6px}
.nav-btn.primary{background:var(--brand);color:white}
.nav-btn span{font-size:12px;opacity:.9}

main{padding:16px 16px calc(100px + env(safe-area-inset-bottom));}

.phase-stack{display:flex;flex-direction:column;gap:14px}
.phase-block{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:0 6px 18px rgba(0,0,0,.25);overflow:hidden}
.phase-head{display:flex;align-items:center;justify-content:space-between;padding:14px 14px 10px 14px;cursor:pointer}
.phase-name{font-size:20px;font-weight:800;margin:0}
.meta{color:var(--muted);font-size:12px}
.bar{height:8px;background:#1a2440;border-radius:999px;overflow:hidden;margin:8px 14px 0}
.bar span{display:block;height:100%;background:linear-gradient(90deg,var(--brand),var(--brand-2));width:0%}

.phase-body{padding:12px 14px 14px 14px;display:block}
.phase-block.collapsed .phase-body{display:none}

.section{margin-top:10px}
.section h4{margin:10px 0 8px;color:var(--muted);font-weight:700;text-transform:uppercase;letter-spacing:.04em;font-size:12px}

.task-row{display:flex;gap:12px;align-items:flex-start;background:#0f1628;border:1px solid var(--border);border-radius:14px;padding:12px;margin-bottom:10px}
.check{width:28px;height:28px;min-width:28px;display:inline-flex;align-items:center;justify-content:center;border-radius:50%;border:2px solid var(--brand);position:relative;margin-top:2px}
.check input{opacity:0;position:absolute;width:100%;height:100%;margin:0}
.check .dot{width:16px;height:16px;border-radius:50%;background:transparent}
.check input:checked + .dot{background:var(--brand)}
.task-main{flex:1;min-width:0}
.task-title{-webkit-line-clamp:2;display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;word-break:break-word;font-weight:600}
.task-date{font-size:12px;color:var(--muted)}
.chev{background:#1a2440;border:1px solid var(--border);color:var(--text);border-radius:10px;padding:8px 10px}
.task-desc{display:none;color:var(--muted);padding:8px 12px 12px 52px}
.task-row.expanded + .task-desc{display:block}

.empty{color:var(--muted);text-align:center;padding:12px}
